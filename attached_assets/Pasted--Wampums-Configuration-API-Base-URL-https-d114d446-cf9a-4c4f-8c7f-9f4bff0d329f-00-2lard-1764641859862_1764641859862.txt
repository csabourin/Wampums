 === Wampums Configuration ===
 API Base URL: https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev
 Debug Mode: true
 Version: 2.0.0
 Environment: production
 ============================
 [DEBUG] App init started
 [DEBUG] Fetching organization ID...
 init-activity-widget.js loaded
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
 [DEBUG] Service Worker registered with scope: https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
XHR finished loading: POST "<URL>".
 [DEBUG] Organization ID fetched and stored: 1
 [DEBUG] No JWT token found, fetching organization JWT...
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
Fetch finished loading: GET "<URL>".
 [DEBUG] Organization JWT obtained successfully
 [DEBUG] Fetching organization settings...
 [DEBUG] Inside fetchOrganizationSettings, this: {isLoggedIn: false, userRole: null, userFullName: null, lang: null, currentPage: '', …}
 [DEBUG] Fetching organization settings ... 1
 Upgrading IndexedDB...
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: org_settings_1
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmdhbml6Y...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcm…2MjZ9.MqPP7Mt4zVmGBifq7pGRM_1MWjNyVliuzniqQCIaf8M', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/organization-settings?organization_id=1
 [DEBUG] API Response: {success: true, data: {…}}
 IndexedDB opened successfully
 Data stored successfully: {key: 'org_settings_1', data: {…}, type: 'cache', timestamp: 1764641789191, expiration: 1764728189191}
 [DEBUG] Data cached for: org_settings_1
 [DEBUG] Got organization settings:  {"success":true,"data":{"badge_system":{"territoires":[{"name":"Débrouillard comme Kaa","image":"kaa.jpg"},{"name":"Vrai comme Baloo","image":"baloo.jpg"},{"name":"Respectueux comme Rikki Tikki Tavi","image":"rikki.jpg"},{"name":"Dynamique comme Bagheera","image":"bagheera.jpg"},{"name":"Heureux comme Ferao","image":"ferao.jpg"},{"name":"Solidaire comme Frère Gris","image":"frereGris.jpg"}],"badge_structure":{"fields":[{"name":"territoire_chasse","type":"select","label":"territoire_chasse"},{"name":"objectif","type":"textarea","label":"objectif_proie"},{"name":"description","type":"textarea","label":"description"},{"name":"fierte","type":"checkbox","label":"fierte"},{"name":"raison","type":"textarea","label":"raison"},{"name":"date_obtention","type":"date","label":"date_obtention"},{"max":3,"min":1,"name":"etoiles","type":"number","label":"etoiles"}]}},"organization_info":{"logo":"/images/6eASt-Paul.png","name":"6A St-Paul d'Aylmer","unit":"6A St-Paul d'Aylmer","endroit":"École du village","district":"District des Trois-Rives","meeting_day":"Tuesday","animateur_responsable":"Akéla","account_creation_password":"Aylmer2025-2026"},"point_system_rules":{"badges":{"earn":5,"level_up":10},"honors":{"award":5},"attendance":{"late":{"label":"late","points":0},"absent":{"label":"absent","points":0},"excused":{"label":"excused","points":0},"present":{"label":"present","points":1}}}}}
 [DEBUG] Organization settings fetched successfully: {badge_system: {…}, organization_info: {…}, point_system_rules: {…}}
 [DEBUG] Loading translations...
 Session check: {isLoggedIn: false, userRole: null, userFullName: null, userId: null}
 [DEBUG] Session checked: {isLoggedIn: false, userRole: null, userFullName: null}
 [DEBUG] Initializing router...
 [DEBUG] Routing to current path: /dashboard
 [DEBUG] Routing to: /dashboard
 Path: /dashboard, RouteName: dashboard
 Session check: {isLoggedIn: false, userRole: null, userFullName: null, userId: null}
 Redirecting to login from route: dashboard
overrideMethod @ installHook.js:1
route @ router.js:116
init @ app.js:252
await in init
(anonymous) @ app.js:622
 Login init started
 Rendering login form, organizationSettings: loaded
 Login.render() called
 Using organization name: 6A St-Paul d'Aylmer
 [DEBUG] Failed to translating key: login in language: fr
 [DEBUG] Failed to translating key: email in language: fr
 [DEBUG] Failed to translating key: password in language: fr
 [DEBUG] Failed to translating key: submit_login in language: fr
 [DEBUG] Failed to translating key: create_account in language: fr
 [DEBUG] Failed to translating key: forgot_password in language: fr
 Attaching login form listener
 Login form listener attached
 Login form rendered successfully
 [DEBUG] App init completed
 IndexedDB opened successfully
 Retrieved offline data: []
login:1 [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://www.chromium.org/developers/design-documents/create-amazing-password-forms) 
 [DEBUG] Translations loaded successfully {en: {…}, fr: {…}}
 [DEBUG] Routing to: /login
 Path: /login, RouteName: login
 Session check: {isLoggedIn: false, userRole: null, userFullName: null, userId: null}
 Login init started
 Rendering login form, organizationSettings: loaded
 Login.render() called
 Using organization name: 6A St-Paul d'Aylmer
 Attaching login form listener
 Login form listener attached
 Login form rendered successfully
login:1 [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://www.chromium.org/developers/design-documents/create-amazing-password-forms) 
 Clients: [WindowClient]
 Login form submitted
 Sending login request via ajax-functions.js...info@christiansabourin.com
 Sending login request via api-endpoints.js... info@christiansabourin.com
 Fetch finished loading: POST "https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/public/login".
handleMutation @ service-worker.js:366
(anonymous) @ service-worker.js:134
 Login result received: {success: true, message: 'login_successful', token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', user_role: 'admin', user_full_name: 'Admin Csabourin', …}
 Login successful, handling login success...
 === LOGIN SUCCESS DEBUG ===
 Full result object: {success: true, message: 'login_successful', token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', user_role: 'admin', user_full_name: 'Admin Csabourin', …}
 result.success: true
 result.token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiMGRmM2JmMjctNGIwMC00YzY5LWI4ZmUtMDRhZDQ4ZDFjNjMxIiwidXNlcl9yb2xlIjoiYWRtaW4iLCJvcmdhbml6YXRpb25JZCI6MSwiaWF0IjoxNzY0NjQxODI5LCJleHAiOjE3NjUyNDY2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc
 result.user_id: 0df3bf27-4b00-4c69-b8fe-04ad48d1c631
 result.user_role: admin
 result.user_full_name: Admin Csabourin
 === END LOGIN DEBUG ===
 === STORING USER DATA ===
 Token: EXISTS
 User ID: 0df3bf27-4b00-4c69-b8fe-04ad48d1c631
 User Role: admin
 User Full Name: Admin Csabourin
 === FINAL LOCALSTORAGE CHECK ===
 jwtToken: STORED
 userId: 0df3bf27-4b00-4c69-b8fe-04ad48d1c631
 userRole: admin
 currentOrganizationId: 1
 organizationId: 1
 Redirecting to main dashboard
 [DEBUG] Routing to: /dashboard
 Path: /dashboard, RouteName: dashboard
 Session check: {isLoggedIn: true, userRole: 'admin', userFullName: 'Admin Csabourin', userId: '0df3bf27-4b00-4c69-b8fe-04ad48d1c631'}
 [DEBUG] Organization settings from app: {badge_system: {…}, organization_info: {…}, point_system_rules: {…}}
 IndexedDB opened successfully
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: dashboard_groups
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: dashboard_participant_info
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: participants
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/participants?organization_id=1
 Fetch finished loading: POST "https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/public/login".
login @ api-endpoints.js:83
(anonymous) @ login.js:95
 [DEBUG] API Response: {success: true, data: Array(24), pagination: {…}, timestamp: '2025-12-02T02:17:09.460Z'}
 IndexedDB opened successfully
 Data stored successfully: {key: 'participants', data: {…}, type: 'cache', timestamp: 1764641791965, expiration: 1764643591965}
 [DEBUG] Data cached for: participants
 IndexedDB opened successfully
 IndexedDB opened successfully
 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'participants', data: {…}, type: 'cache', timestamp: 1764641791965, expiration: 1764643591965}
 Returning valid cached data: {success: true, data: Array(24), pagination: {…}, timestamp: '2025-12-02T02:17:09.460Z'}
 [DEBUG] Cache hit for: participants
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: groups
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/groups?organization_id=1
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
Fetch failed loading: POST "<URL>".
 [DEBUG] API Response: {success: true, message: 'Success', data: Array(4), timestamp: '2025-12-02T02:17:09.550Z'}
 IndexedDB opened successfully
 Data stored successfully: {key: 'groups', data: {…}, type: 'cache', timestamp: 1764641792054, expiration: 1764643592054}
 [DEBUG] Data cached for: groups
 IndexedDB opened successfully
 Data stored successfully: {key: 'dashboard_participant_info', data: Array(24), type: 'cache', timestamp: 1764641792055, expiration: 1764642092055}
 IndexedDB opened successfully
 Data stored successfully: {key: 'dashboard_groups', data: Array(4), type: 'cache', timestamp: 1764641792056, expiration: 1764645392056}
 Initializing ActivityWidget
 App state: {isLoggedIn: true, userRole: 'admin'}
 ActivityWidget constructor called
 App object: {isLoggedIn: true, userRole: 'admin', userFullName: 'Admin Csabourin', lang: 'fr', currentPage: '', …}
 ActivityWidget init called
 Is logged in: true
 User role: admin
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: reunion_preparation_2025-12-02
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/reunion-preparation?date=2025-12-02&organization_id=1
 [DEBUG] API Response: {success: true, preparation: {…}}
 IndexedDB opened successfully
 Data stored successfully: {key: 'reunion_preparation_2025-12-02', data: {…}, type: 'cache', timestamp: 1764641792215, expiration: 1764643592215}
 [DEBUG] Data cached for: reunion_preparation_2025-12-02
 Fetched reunion preparation data: {success: true, preparation: {…}}
 === DATE PARSING DEBUG ===
 Raw date value: 2025-12-02
 Date type: string
 Date stringified: "2025-12-02"
 Concatenated: 2025-12-02T00:00:00
 Current activities set: (4) [{…}, {…}, {…}, {…}]
 Preparation date: Tue Dec 02 2025 00:00:00 GMT-0500 (Eastern Standard Time)
 === IS PREPARATION TODAY CHECK ===
 Today: Mon Dec 01 2025 21:16:32 GMT-0500 (Eastern Standard Time)
 Today date parts: 1 11 2025
 Preparation date: Tue Dec 02 2025 00:00:00 GMT-0500 (Eastern Standard Time)
 Preparation date parts: 2 11 2025
 Is today? false
 No activities found for today, stopping widget.
 [DEBUG] Routing to: /attendance
 Path: /attendance, RouteName: attendance
 Session check: {isLoggedIn: true, userRole: 'admin', userFullName: 'Admin Csabourin', userId: '0df3bf27-4b00-4c69-b8fe-04ad48d1c631'}
 IndexedDB opened successfully
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: attendance_dates
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/attendance/dates?organization_id=1
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: attendance_2025-12-01
 IndexedDB opened successfully
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: attendance_2025-12-01
 IndexedDB opened successfully
 IndexedDB opened successfully
 IndexedDB opened successfully
 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'participants', data: {…}, type: 'cache', timestamp: 1764641791965, expiration: 1764643591965}
 Returning valid cached data: {success: true, data: Array(24), pagination: {…}, timestamp: '2025-12-02T02:17:09.460Z'}
 [DEBUG] Cache hit for: participants
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: attendance_api_2025-12-01
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/attendance?date=2025-12-01&organization_id=1
 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
 No data found for key: guests-by-date
 === GET AUTH HEADER DEBUG ===
 Token exists: true
 Organization ID: 1
 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
 === END AUTH HEADER DEBUG ===
 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/guests-by-date?date=2025-12-01&organization_id=1
 Fetch finished loading: POST "https://q.clarity.ms/collect".
handleMutation @ service-worker.js:366
(anonymous) @ service-worker.js:134
 [DEBUG] API Response: {success: true, message: 'Success', data: Array(9), timestamp: '2025-12-02T02:17:14.114Z'}
 IndexedDB opened successfully
 Data stored successfully: {key: 'attendance_dates', data: {…}, type: 'cache', timestamp: 1764641796619, expiration: 1764728196619}
 [DEBUG] Data cached for: attendance_dates
 [DEBUG] Attendance dates response: {success: true, message: 'Success', data: Array(9), timestamp: '2025-12-02T02:17:14.114Z'}
 [DEBUG] Raw dates from API: (9) ['2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
 [DEBUG] Date 2025-11-30 is valid
 [DEBUG] Date 2025-11-18 is valid
 [DEBUG] Date 2025-11-11 is valid
 [DEBUG] Date 2025-11-04 is valid
 [DEBUG] Date 2025-10-28 is valid
 [DEBUG] Date 2025-10-21 is valid
 [DEBUG] Date 2025-10-14 is valid
DebugUtils.js:33 [DEBUG] Date 2025-10-07 is valid
DebugUtils.js:33 [DEBUG] Date 2025-10-03 is valid
DebugUtils.js:33 [DEBUG] Available dates after filtering: (9) ['2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] Final available dates: (10) ['2025-12-01', '2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] API Response: {success: true, message: 'Success', data: Array(0), timestamp: '2025-12-02T02:17:14.356Z'}
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_api_2025-12-01', data: {…}, type: 'cache', timestamp: 1764641796888, expiration: 1764642096888}
DebugUtils.js:33 [DEBUG] Data cached for: attendance_api_2025-12-01
DebugUtils.js:33 [DEBUG] API Response: {success: true, message: 'Guests retrieved successfully', data: {…}, timestamp: '2025-12-02T02:17:14.384Z'}
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'guests-by-date', data: {…}, type: 'cache', timestamp: 1764641796904, expiration: 1764643596904}
DebugUtils.js:33 [DEBUG] Data cached for: guests-by-date
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_2025-12-01', data: {…}, type: 'cache', timestamp: 1764641796905, expiration: 1764642096905}
DebugUtils.js:33 [DEBUG] Rendering date options. Available dates: (10) ['2025-12-01', '2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] Current date: 2025-12-01
DebugUtils.js:33 [DEBUG] App language: fr
DebugUtils.js:33 [DEBUG] Date 2025-12-01 formatted as: lundi 1 décembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-30 formatted as: dimanche 30 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-18 formatted as: mardi 18 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-11 formatted as: mardi 11 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-04 formatted as: mardi 4 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-28 formatted as: mardi 28 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-21 formatted as: mardi 21 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-14 formatted as: mardi 14 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-07 formatted as: mardi 7 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-03 formatted as: vendredi 3 octobre 2025
DebugUtils.js:33 [DEBUG] Final options HTML: <option value="2025-12-01" selected>
        lundi 1 décembre 2025
      </option><option value="2025-11-30" >
        dimanche 30 novembre 2025
      </option><option value="2025-11-18" >
        mardi 18 novembre 2025
      </option><option value="2025-11-11" >
        mardi 11 novembre 2025
      </option><option value="2025-11-04" >
        mardi 4 novembre 2025
      </option><option value="2025-10-28" >
        mardi 28 octobre 2025
      </option><option value="2025-10-21" >
        mardi 21 octobre 2025
      </option><option value="2025-10-14" >
        mardi 14 octobre 2025
      </option><option value="2025-10-07" >
        mardi 7 octobre 2025
      </option><option value="2025-10-03" >
        vendredi 3 octobre 2025
      </option>
DebugUtils.js:33 [DEBUG] Changing date to 2025-11-30
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:80 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
indexedDB.js:87 No data found for key: attendance_2025-11-30
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:80 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'participants', data: {…}, type: 'cache', timestamp: 1764641791965, expiration: 1764643591965}
indexedDB.js:83 Returning valid cached data: {success: true, data: Array(24), pagination: {…}, timestamp: '2025-12-02T02:17:09.460Z'}
DebugUtils.js:33 [DEBUG] Cache hit for: participants
indexedDB.js:80 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
indexedDB.js:87 No data found for key: attendance_api_2025-11-30
api-helpers.js:39 === GET AUTH HEADER DEBUG ===
api-helpers.js:40 Token exists: true
api-helpers.js:41 Organization ID: 1
api-helpers.js:42 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
api-helpers.js:54 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
api-helpers.js:55 === END AUTH HEADER DEBUG ===
DebugUtils.js:33 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/attendance?date=2025-11-30&organization_id=1
indexedDB.js:80 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'guests-by-date', data: {…}, type: 'cache', timestamp: 1764641796904, expiration: 1764643596904}
indexedDB.js:83 Returning valid cached data: {success: true, message: 'Guests retrieved successfully', data: {…}, timestamp: '2025-12-02T02:17:14.384Z'}
DebugUtils.js:33 [DEBUG] Cache hit for: guests-by-date
DebugUtils.js:33 [DEBUG] API Response: {success: true, message: 'Success', data: Array(23), timestamp: '2025-12-02T02:17:16.640Z'}
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_api_2025-11-30', data: {…}, type: 'cache', timestamp: 1764641799146, expiration: 1764642099146}
DebugUtils.js:33 [DEBUG] Data cached for: attendance_api_2025-11-30
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_2025-11-30', data: {…}, type: 'cache', timestamp: 1764641799147, expiration: 1764642099147}
DebugUtils.js:33 [DEBUG] Rendering date options. Available dates: (10) ['2025-12-01', '2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] Current date: 2025-11-30
DebugUtils.js:33 [DEBUG] App language: fr
DebugUtils.js:33 [DEBUG] Date 2025-12-01 formatted as: lundi 1 décembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-30 formatted as: dimanche 30 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-18 formatted as: mardi 18 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-11 formatted as: mardi 11 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-04 formatted as: mardi 4 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-28 formatted as: mardi 28 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-21 formatted as: mardi 21 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-14 formatted as: mardi 14 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-07 formatted as: mardi 7 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-03 formatted as: vendredi 3 octobre 2025
DebugUtils.js:33 [DEBUG] Final options HTML: <option value="2025-12-01" >
        lundi 1 décembre 2025
      </option><option value="2025-11-30" selected>
        dimanche 30 novembre 2025
      </option><option value="2025-11-18" >
        mardi 18 novembre 2025
      </option><option value="2025-11-11" >
        mardi 11 novembre 2025
      </option><option value="2025-11-04" >
        mardi 4 novembre 2025
      </option><option value="2025-10-28" >
        mardi 28 octobre 2025
      </option><option value="2025-10-21" >
        mardi 21 octobre 2025
      </option><option value="2025-10-14" >
        mardi 14 octobre 2025
      </option><option value="2025-10-07" >
        mardi 7 octobre 2025
      </option><option value="2025-10-03" >
        vendredi 3 octobre 2025
      </option>
DebugUtils.js:33 [DEBUG] Changing date to 2025-11-18
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:80 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
indexedDB.js:87 No data found for key: attendance_2025-11-18
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:80 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'participants', data: {…}, type: 'cache', timestamp: 1764641791965, expiration: 1764643591965}
indexedDB.js:83 Returning valid cached data: {success: true, data: Array(24), pagination: {…}, timestamp: '2025-12-02T02:17:09.460Z'}
DebugUtils.js:33 [DEBUG] Cache hit for: participants
indexedDB.js:80 IDBRequest {result: undefined, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' undefined
indexedDB.js:87 No data found for key: attendance_api_2025-11-18
api-helpers.js:39 === GET AUTH HEADER DEBUG ===
api-helpers.js:40 Token exists: true
api-helpers.js:41 Organization ID: 1
api-helpers.js:42 Token preview: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...
api-helpers.js:54 Generated headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2…2Mjl9.e9aMldmIMg533wMuNZ0nAwRV3eL_lKjomOrHd7qFSzc', x-organization-id: '1'}
api-helpers.js:55 === END AUTH HEADER DEBUG ===
DebugUtils.js:33 [DEBUG] API Request (attempt 1): GET https://d114d446-cf9a-4c4f-8c7f-9f4bff0d329f-00-2lardlryb2460.worf.replit.dev/api/v1/attendance?date=2025-11-18&organization_id=1
indexedDB.js:80 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'guests-by-date', data: {…}, type: 'cache', timestamp: 1764641796904, expiration: 1764643596904}
indexedDB.js:83 Returning valid cached data: {success: true, message: 'Guests retrieved successfully', data: {…}, timestamp: '2025-12-02T02:17:14.384Z'}
DebugUtils.js:33 [DEBUG] Cache hit for: guests-by-date
DebugUtils.js:33 [DEBUG] API Response: {success: true, message: 'Success', data: Array(22), timestamp: '2025-12-02T02:17:20.642Z'}
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_api_2025-11-18', data: {…}, type: 'cache', timestamp: 1764641803169, expiration: 1764642103169}
DebugUtils.js:33 [DEBUG] Data cached for: attendance_api_2025-11-18
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:54 Data stored successfully: {key: 'attendance_2025-11-18', data: {…}, type: 'cache', timestamp: 1764641803170, expiration: 1764642103170}
DebugUtils.js:33 [DEBUG] Rendering date options. Available dates: (10) ['2025-12-01', '2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] Current date: 2025-11-18
DebugUtils.js:33 [DEBUG] App language: fr
DebugUtils.js:33 [DEBUG] Date 2025-12-01 formatted as: lundi 1 décembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-30 formatted as: dimanche 30 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-18 formatted as: mardi 18 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-11 formatted as: mardi 11 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-04 formatted as: mardi 4 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-28 formatted as: mardi 28 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-21 formatted as: mardi 21 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-14 formatted as: mardi 14 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-07 formatted as: mardi 7 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-03 formatted as: vendredi 3 octobre 2025
DebugUtils.js:33 [DEBUG] Final options HTML: <option value="2025-12-01" >
        lundi 1 décembre 2025
      </option><option value="2025-11-30" >
        dimanche 30 novembre 2025
      </option><option value="2025-11-18" selected>
        mardi 18 novembre 2025
      </option><option value="2025-11-11" >
        mardi 11 novembre 2025
      </option><option value="2025-11-04" >
        mardi 4 novembre 2025
      </option><option value="2025-10-28" >
        mardi 28 octobre 2025
      </option><option value="2025-10-21" >
        mardi 21 octobre 2025
      </option><option value="2025-10-14" >
        mardi 14 octobre 2025
      </option><option value="2025-10-07" >
        mardi 7 octobre 2025
      </option><option value="2025-10-03" >
        vendredi 3 octobre 2025
      </option>
DebugUtils.js:33 [DEBUG] Changing date to 2025-11-30
indexedDB.js:15 IndexedDB opened successfully
indexedDB.js:80 IDBRequest {result: {…}, error: null, source: IDBObjectStore, transaction: IDBTransaction, readyState: 'done', …} ' Retrieved record:' {key: 'attendance_2025-11-30', data: {…}, type: 'cache', timestamp: 1764641799147, expiration: 1764642099147}
indexedDB.js:83 Returning valid cached data: {participants: Array(24), attendanceData: {…}, guests: Array(0), groups: Array(4)}
DebugUtils.js:33 [DEBUG] Loaded data from cache
DebugUtils.js:33 [DEBUG] Rendering date options. Available dates: (10) ['2025-12-01', '2025-11-30', '2025-11-18', '2025-11-11', '2025-11-04', '2025-10-28', '2025-10-21', '2025-10-14', '2025-10-07', '2025-10-03']
DebugUtils.js:33 [DEBUG] Current date: 2025-11-30
DebugUtils.js:33 [DEBUG] App language: fr
DebugUtils.js:33 [DEBUG] Date 2025-12-01 formatted as: lundi 1 décembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-30 formatted as: dimanche 30 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-18 formatted as: mardi 18 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-11 formatted as: mardi 11 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-11-04 formatted as: mardi 4 novembre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-28 formatted as: mardi 28 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-21 formatted as: mardi 21 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-14 formatted as: mardi 14 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-07 formatted as: mardi 7 octobre 2025
DebugUtils.js:33 [DEBUG] Date 2025-10-03 formatted as: vendredi 3 octobre 2025
DebugUtils.js:33 [DEBUG] Final options HTML: <option value="2025-12-01" >
        lundi 1 décembre 2025
      </option><option value="2025-11-30" selected>
        dimanche 30 novembre 2025
      </option><option value="2025-11-18" >
        mardi 18 novembre 2025
      </option><option value="2025-11-11" >
        mardi 11 novembre 2025
      </option><option value="2025-11-04" >
        mardi 4 novembre 2025
      </option><option value="2025-10-28" >
        mardi 28 octobre 2025
      </option><option value="2025-10-21" >
        mardi 21 octobre 2025
      </option><option value="2025-10-14" >
        mardi 14 octobre 2025
      </option><option value="2025-10-07" >
        mardi 7 octobre 2025
      </option><option value="2025-10-03" >
        vendredi 3 octobre 2025
      </option>
